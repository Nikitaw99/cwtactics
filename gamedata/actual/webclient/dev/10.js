(function(){function t(t,e,n){var r=this.data.length,o=t,i=e;for(t=0;r>t;t++)for(e=0;r>e;e++)this.data[t][e]=n;this.centerX=Math.max(0,o-(r-1)),this.centerY=Math.max(0,i-(r-1))}function e(t,e){var n=this.data,r=this.centerX,o=this.centerY,i=n.length;return t-=o,e-=r,0>t||0>e||t>=i||e>=i?-1:n[t][e]}function n(t,e,n){var r=this.data,o=this.centerX,i=this.centerY,E=r.length;t-=i,e-=o,0>t||0>e||t>=E||e>=E?model.criticalError(constants.error.ILLEGAL_PARAMETERS,constants.error.SELECTION_DATA_OUT_OF_BOUNDS):r[t][e]=n}function r(t,e,n,r,o){var i=this.data,E=this.centerX,_=this.centerY,s=i.length;t-=_,e-=E,(0>t||0>e||t>=s||e>=s)&&(r?(t=s-1,e=s-1):(t=0,e=0));var u=r?-1:1;for(e+=u;r?t>=0:s>t;t+=u){for(;r?e>=0:s>e;e+=u)if(i[t][e]>=n)return o(t,e),void 0;e=r?s-1:0}}util.selectionMap=function(o){var i={};return i.centerX=0,i.centerY=0,i.data=util.matrix(o,o,0),i.nextValidPosition=r,i.setValueAt=n,i.getValueAt=e,i.setCenter=t,i}})();