view.hooksBuffer=util.createRingBuffer(50),view.animationHooks={},view.registerAnimationHook=function(e){var t=e.key;view.animationHooks.hasOwnProperty(t)&&util.raiseError("animation algorithm for",t,"is already registered"),view.animationHooks[t]=e,controller.onEvent(t,function(){for(var e=[],o=0,n=arguments.length;n>o;o++)e[o]=arguments[o];e[e.length]=t,view.hooksBuffer.push(e)}),e.isEnabled=!0};