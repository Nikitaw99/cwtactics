model.createDataParser=function(t,e){var r=[],n="function"==typeof e;return{addHandler:function(t){"function"!=typeof t&&model.criticalError(constants.error.ILLEGAL_DATA,constants.error.ILLEGAL_SHEET_HANDLER),r.push(t)},parse:function(o){util.expectString(o,"ID",!0)||model.criticalError(constants.error.ILLEGAL_DATA,constants.error.ILLEGAL_SHEET_ID),t[o.ID]&&model.criticalError(constants.error.ILLEGAL_DATA,constants.error.ILLEGAL_SHEET_ALREADY_DEFINED);for(var i=0,a=r.length;a>i;i++)r[i](o)===!1&&model.criticalError(constants.error.ILLEGAL_DATA,constants.error.BREAKS_SHEET_CONTRACT);n?e(o):e.push(o.ID),t[o.ID]=o},parseAll:function(t){for(var e=0,r=t.length;r>e;e++)this.parse(t[e])},clear:function(){e.splice(0);for(var r=Object.keys(t),n=0,o=r.length;o>n;n++)delete t[r[n]]}}},model.unitTypes={},model.listOfUnitTypes=[],model.unitTypeParser=model.createDataParser(model.unitTypes,model.listOfUnitTypes),model.tileTypes={},model.listOfPropertyTypes=[],model.listOfTileTypes=[],model.tileTypeParser=model.createDataParser(model.tileTypes,function(t){t.capturePoints?model.listOfPropertyTypes.push(t):model.listOfTileTypes.push(t)}),model.weatherTypes={},model.defaultWeatherType=null,model.nonDefaultWeatherType=[],model.weatherTypeParser=model.createDataParser(model.weatherTypes,function(t){t.defaultWeather?model.defaultWeatherType=t:model.nonDefaultWeatherType.push(t)}),model.moveTypes={},model.listOfMoveTypes=[],model.moveTypeParser=model.createDataParser(model.moveTypes,model.listOfMoveTypes),model.factionTypes={},model.listOfFactions=[],model.factionParser=model.createDataParser(model.factionTypes,model.listOfFactions),model.factionParser.addHandler(function(t){return util.expectString(t,"music",!0)?void 0:!1}),model.coTypes={},model.listOfCoTypes=[],model.coTypeParser=model.createDataParser(model.coTypes,model.listOfCoTypes),model.sounds=null,model.graphics=null,model.maps=null,model.language={},model.localized=function(t){var e=model.language[t];return void 0===e?t:e};