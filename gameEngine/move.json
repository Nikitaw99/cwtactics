{
  "rules":[

    {
      "rule":"checkWay",
      "on":"moveUnit",
      "status":"off",
      "when":[
        ["set", "$breakT",
          ["first","move.way","$item",
            ["and",
              ["notIn","$item","fog.visibleTiles"],
              ["def","$item.unit"]]]]
      ],
      "then":[
        ["array.slice",0,
          ["array.indexOf","$breakT"], false ]
      ]
    },

    {
      "rule":"moveUnit",
      "on":"moveUnit",
      "salience":-1000,
      "then":[

      ]
    }
  ]
}