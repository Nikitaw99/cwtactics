function Graph(e){for(var t=[],n=0;e.length>n;n++){t[n]=[];for(var r=0,o=e[n];o.length>r;r++)t[n][r]=new GraphNode(n,r,o[r])}this.input=e,this.nodes=t}function GraphNode(e,t,n){this.data={},this.x=e,this.y=t,this.pos={x:e,y:t},this.type=n}function BinaryHeap(e){this.content=[],this.scoreFunction=e}function Hammer(e,t,n){function r(e){return e.touches?e.touches.length:1}function o(e){if(e=e||window.event,k){for(var t,n=[],r=0,o=e.touches.length;o>r;r++)t=e.touches[r],n.push({x:t.pageX,y:t.pageY});return n}var i=document,a=i.body;return[{x:e.pageX||e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&i.clientLeft||0),y:e.pageY||e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&i.clientTop||0)}]}function i(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function a(e,t){if(2==e.length&&2==t.length){var n,r;n=e[0].x-e[1].x,r=e[0].y-e[1].y;var o=Math.sqrt(n*n+r*r);n=t[0].x-t[1].x,r=t[0].y-t[1].y;var i=Math.sqrt(n*n+r*r);return i/o}return 0}function l(e,t){if(2==e.length&&2==t.length){var n,r;n=e[0].x-e[1].x,r=e[0].y-e[1].y;var o=180*Math.atan2(r,n)/Math.PI;n=t[0].x-t[1].x,r=t[0].y-t[1].y;var i=180*Math.atan2(r,n)/Math.PI;return i-o}return 0}function s(e,t){t.touches=o(t.originalEvent),t.type=e,f(v["on"+e])&&v["on"+e].call(v,t)}function u(e){e=e||window.event,e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}function c(){C={},P=!1,S=0,A=0,w=0,D=null}function d(n){switch(n.type){case"mousedown":case"touchstart":C.start=o(n),M=(new Date).getTime(),S=r(n),P=!0,y=n;var i=e.getBoundingClientRect(),d=e.clientTop||document.body.clientTop||0,m=e.clientLeft||document.body.clientLeft||0,h=window.pageYOffset||e.scrollTop||document.body.scrollTop,p=window.pageXOffset||e.scrollLeft||document.body.scrollLeft;b={top:i.top+h-d,left:i.left+p-m},x=!0,W.hold(n),t.prevent_default&&u(n);break;case"mousemove":case"touchmove":if(!x)return!1;T=n,C.move=o(n),W.transform(n)||W.drag(n);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!x||"transform"!=D&&n.touches&&n.touches.length>0)return!1;x=!1,I=n,W.swipe(n),"drag"==D?s("dragend",{originalEvent:n,direction:O,distance:A,angle:w}):"transform"==D?s("transformend",{originalEvent:n,position:C.center,scale:a(C.start,C.move),rotation:l(C.start,C.move)}):W.tap(y),L=D,s("release",{originalEvent:n,gesture:D}),c()}}function m(t){h(e,t.relatedTarget)||d(t)}function h(e,t){if(!t&&window.event&&window.event.toElement&&(t=window.event.toElement),e===t)return!0;if(t)for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1}function p(e,t){var n={};if(!t)return e;for(var r in e)n[r]=r in t?t[r]:e[r];return n}function f(e){return"[object Function]"==Object.prototype.toString.call(e)}function E(e,t,n){t=t.split(" ");for(var r=0,o=t.length;o>r;r++)e.addEventListener?e.addEventListener(t[r],n,!1):document.attachEvent&&e.attachEvent("on"+t[r],n)}function g(e,t,n){t=t.split(" ");for(var r=0,o=t.length;o>r;r++)e.removeEventListener?e.removeEventListener(t[r],n,!1):document.detachEvent&&e.detachEvent("on"+t[r],n)}var v=this,_={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500};t=p(_,t),function(){if(!t.css_hacks)return!1;for(var n=["webkit","moz","ms","o",""],r={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},o="",i=0;n.length>i;i++)for(var a in r)o=a,n[i]&&(o=n[i]+o.substring(0,1).toUpperCase()+o.substring(1)),e.style[o]=r[a]}();var y,T,I,A=0,w=0,O=0,C={},S=0,P=!1,D=null,L=null,M=null,N={x:0,y:0},R=null,U=null,b={},x=!1,k="ontouchstart"in window;this.option=function(e,r){return r!=n&&(t[e]=r),t[e]},this.getDirectionFromAngle=function(e){var t,n,r={down:e>=45&&135>e,left:e>=135||-135>=e,up:-45>e&&e>-135,right:e>=-45&&45>=e};for(n in r)if(r[n]){t=n;break}return t},this.destroy=function(){k?g(e,"touchstart touchmove touchend touchcancel",d):(g(e,"mouseup mousedown mousemove",d),g(e,"mouseout",m))};var W={hold:function(e){t.hold&&(D="hold",clearTimeout(U),U=setTimeout(function(){"hold"==D&&s("hold",{originalEvent:e,position:C.start})},t.hold_timeout))},swipe:function(e){if(C.move){var n=C.move[0].x-C.start[0].x,r=C.move[0].y-C.start[0].y;A=Math.sqrt(n*n+r*r);var o=(new Date).getTime(),a=o-M;if(t.swipe&&t.swipe_time>a&&A>t.swipe_min_distance){w=i(C.start[0],C.move[0]),O=v.getDirectionFromAngle(w),D="swipe";var l={x:C.move[0].x-b.left,y:C.move[0].y-b.top},u={originalEvent:e,position:l,direction:O,distance:A,distanceX:n,distanceY:r,angle:w};s("swipe",u)}}},drag:function(e){var n=C.move[0].x-C.start[0].x,r=C.move[0].y-C.start[0].y;if(A=Math.sqrt(n*n+r*r),t.drag&&A>t.drag_min_distance||"drag"==D){w=i(C.start[0],C.move[0]),O=v.getDirectionFromAngle(w);var o="up"==O||"down"==O;if((o&&!t.drag_vertical||!o&&!t.drag_horizontal)&&A>t.drag_min_distance)return;D="drag";var a={x:C.move[0].x-b.left,y:C.move[0].y-b.top},l={originalEvent:e,position:a,direction:O,distance:A,distanceX:n,distanceY:r,angle:w};P&&(s("dragstart",l),P=!1),s("drag",l),u(e)}},transform:function(e){if(t.transform){if(2!=r(e))return!1;var n=l(C.start,C.move),o=a(C.start,C.move);if("drag"!=D&&("transform"==D||Math.abs(1-o)>t.scale_treshold||Math.abs(n)>t.rotation_treshold)){D="transform",C.center={x:(C.move[0].x+C.move[1].x)/2-b.left,y:(C.move[0].y+C.move[1].y)/2-b.top};var i={originalEvent:e,position:C.center,scale:o,rotation:n};return P&&(s("transformstart",i),P=!1),s("transform",i),u(e),!0}}return!1},tap:function(e){var n=(new Date).getTime(),r=n-M;if(!t.hold||t.hold&&t.hold_timeout>r){var o=function(){if(N&&t.tap_double&&"tap"==L&&t.tap_max_interval>M-R){var e=Math.abs(N[0].x-C.start[0].x),n=Math.abs(N[0].y-C.start[0].y);return N&&C.start&&Math.max(e,n)<t.tap_double_distance}return!1}();if(o)D="double_tap",R=null,s("doubletap",{originalEvent:e,position:C.start}),u(e);else{var i=C.move?Math.abs(C.move[0].x-C.start[0].x):0,a=C.move?Math.abs(C.move[0].y-C.start[0].y):0;A=Math.max(i,a),t.tap_max_distance>A&&(D="tap",R=n,N=C.start,t.tap&&(s("tap",{originalEvent:e,position:C.start}),u(e)))}}}};k?E(e,"touchstart touchmove touchend touchcancel",d):(E(e,"mouseup mousedown mousemove",d),E(e,"mouseout",m))}(function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;t.length>n&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+r)},r);return e=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})();var astar={init:function(e){for(var t=0,n=e.length;n>t;t++)for(var r=0,o=e[t].length;o>r;r++){var i=e[t][r];i.f=0,i.g=0,i.h=0,i.cost=i.type,i.visited=!1,i.closed=!1,i.parent=null}},heap:function(){return new BinaryHeap(function(e){return e.f})},search:function(e,t,n,r,o){astar.init(e),o=o||astar.manhattan,r=!!r;var i=astar.heap();for(i.push(t);i.size()>0;){var a=i.pop();if(a===n){for(var l=a,s=[];l.parent;)s.push(l),l=l.parent;return s.reverse()}a.closed=!0;for(var u=astar.neighbors(e,a,r),c=0,d=u.length;d>c;c++){var m=u[c];if(!m.closed&&!m.isWall()){var h=a.g+m.cost,p=m.visited;(!p||m.g>h)&&(m.visited=!0,m.parent=a,m.h=m.h||o(m.pos,n.pos),m.g=h,m.f=m.g+m.h,p?i.rescoreElement(m):i.push(m))}}}return[]},manhattan:function(e,t){var n=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return n+r},neighbors:function(e,t,n){var r=[],o=t.x,i=t.y;return e[o-1]&&e[o-1][i]&&r.push(e[o-1][i]),e[o+1]&&e[o+1][i]&&r.push(e[o+1][i]),e[o]&&e[o][i-1]&&r.push(e[o][i-1]),e[o]&&e[o][i+1]&&r.push(e[o][i+1]),n&&(e[o-1]&&e[o-1][i-1]&&r.push(e[o-1][i-1]),e[o+1]&&e[o+1][i-1]&&r.push(e[o+1][i-1]),e[o-1]&&e[o-1][i+1]&&r.push(e[o-1][i+1]),e[o+1]&&e[o+1][i+1]&&r.push(e[o+1][i+1])),r}};DeviceDetection=function(e){this.ua,this.checks,this.construct=function(e){if(e===void 0)var e=navigator.userAgent;this.ua=e,this.checks={iphone:Boolean(e.match(/iPhone/)),ipod:Boolean(e.match(/iPod/)),ipad:Boolean(e.match(/iPad/)),blackberry:Boolean(e.match(/BlackBerry/)),playbook:Boolean(e.match(/PlayBook/)),android:Boolean(e.match(/Android/)),macOS:Boolean(e.match(/Mac OS X/)),win:Boolean(e.match(/Windows/)),mac:Boolean(e.match(/Macintosh/)),wphone:Boolean(e.match(/(Windows Phone OS|Windows CE|Windows Mobile)/)),mobile:Boolean(e.match(/Mobile/)),androidTablet:Boolean(e.match(/(GT-P1000|SGH-T849|SHW-M180S)/)),tabletPc:Boolean(e.match(/Tablet PC/)),palmDevice:Boolean(e.match(/(PalmOS|PalmSource| Pre\/)/)),kindle:Boolean(e.match(/(Kindle)/)),otherMobileHints:Boolean(e.match(/(Opera Mini|IEMobile|SonyEricsson|smartphone)/))}},this.isTouchDevice=function(){return this.checks.iphone||this.checks.ipod||this.checks.ipad},this.isApple=function(){return this.checks.iphone||this.checks.ipod||this.checks.ipad||this.checks.macOS||this.checks.mac},this.isBlackberry=function(){return this.checks.blackberry},this.isAndroid=function(){return this.checks.android},this.isTablet=function(){return this.checks.ipad||this.checks.tabletPc||this.checks.playbook||this.checks.androidTablet||this.checks.kindle},this.isDesktop=function(){return!this.isTouchDevice()&&!this.isSmartPhone()&&!this.isTablet()},this.isSmartPhone=function(){return(this.checks.mobile||this.checks.blackberry||this.checks.palmDevice||this.checks.otherMobileHints)&&!this.isTablet()&&!this.checks.ipod},this.construct(e)};var BrowserDetection=function(){var e=navigator.userAgent.toLowerCase(),t={},n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];if(n[1]&&(t[n[1]]=!0,t.version=n[2]||"0"),t.chrome)t.webkit=!0,-1!==e.search(/android/)&&(t.android=!0);else if(t.webkit){t.safari=!0;var r=e.match(/(version\/)([\w.]+)/);r&&(t.version=r[r.length-1]),-1!==e.search(/like mac os x/)&&(t.ios=!0)}return t}(),GraphNodeType={OPEN:1,WALL:-1};Graph.prototype.toString=function(){for(var e,t,n,r,o="\n",i=this.nodes,a=0,l=i.length;l>a;a++){for(e="",t=i[a],n=0,r=t.length;r>n;n++)e+=t[n].type+" ";o=o+e+"\n"}return o},GraphNode.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},GraphNode.prototype.isWall=function(){return this.type==GraphNodeType.WALL},BinaryHeap.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var o=e+1<<1,i=o-1,a=null;if(t>i){var l=this.content[i],s=this.scoreFunction(l);r>s&&(a=i)}if(t>o){var u=this.content[o],c=this.scoreFunction(u);(null===a?r:s)>c&&(a=o)}if(null===a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}},function(e,t){function n(e){d[d.length]=e}function r(e){c.className=c.className.replace(RegExp("\\b"+e+"\\b"),"")}function o(e,t){for(var n=0,r=e.length;r>n;n++)t.call(e,e[n],n)}function i(){c.className=c.className.replace(/ (w-|eq-|gt-|gte-|lt-|lte-|portrait|no-portrait|landscape|no-landscape)\d+/g,"");var t=e.innerWidth||c.clientWidth,r=e.outerWidth||e.screen.width;p.screen.innerWidth=t,p.screen.outerWidth=r,n("w-"+t),o(m.screens,function(e){t>e?(m.screensCss.gt&&n("gt-"+e),m.screensCss.gte&&n("gte-"+e)):e>t?(m.screensCss.lt&&n("lt-"+e),m.screensCss.lte&&n("lte-"+e)):t===e&&(m.screensCss.lte&&n("lte-"+e),m.screensCss.eq&&n("e-q"+e),m.screensCss.gte&&n("gte-"+e))});var r=e.innerHeight||c.clientHeight,i=e.outerHeight||e.screen.height;p.screen.innerHeight=r,p.screen.outerHeight=i,p.feature("portrait",r>t),p.feature("landscape",t>r)}function a(){e.clearTimeout(y),y=e.setTimeout(i,100)}var l=e.document,s=e.navigator,u=e.location,c=l.documentElement,d=[],m={screens:[240,320,480,640,768,800,1024,1280,1440,1680,1920],screensCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!1},browsers:[{ie:{min:6,max:10}}],browserCss:{gt:!0,gte:!1,lt:!0,lte:!1,eq:!0},section:"-section",page:"-page",head:"head"};if(e.head_conf)for(var h in e.head_conf)e.head_conf[h]!==t&&(m[h]=e.head_conf[h]);var p=e[m.head]=function(){p.ready.apply(null,arguments)};switch(p.feature=function(e,t,o){return e?("[object Function]"===Object.prototype.toString.call(t)&&(t=t.call()),n((t?"":"no-")+e),p[e]=!!t,o||(r("no-"+e),r(e),p.feature()),p):(c.className+=" "+d.join(" "),d=[],p)},p.feature("js",!0),h=s.userAgent.toLowerCase(),s=/mobile|midp/.test(h),p.feature("mobile",s,!0),p.feature("desktop",!s,!0),h=/(chrome|firefox)[ \/]([\w.]+)/.exec(h)||/(iphone|ipad|ipod)(?:.*version)?[ \/]([\w.]+)/.exec(h)||/(android)(?:.*version)?[ \/]([\w.]+)/.exec(h)||/(webkit|opera)(?:.*version)?[ \/]([\w.]+)/.exec(h)||/(msie) ([\w.]+)/.exec(h)||[],s=h[1],h=parseFloat(h[2]),s){case"msie":s="ie",h=l.documentMode||h;break;case"firefox":s="ff";break;case"ipod":case"ipad":case"iphone":s="ios";break;case"webkit":s="safari"}p.browser={name:s,version:h},p.browser[s]=!0;for(var f=0,E=m.browsers.length;E>f;f++)for(var g in m.browsers[f])if(s===g){n(g);for(var v=m.browsers[f][g].max,_=m.browsers[f][g].min;v>=_;_++)h>_?(m.browserCss.gt&&n("gt-"+g+_),m.browserCss.gte&&n("gte-"+g+_)):_>h?(m.browserCss.lt&&n("lt-"+g+_),m.browserCss.lte&&n("lte-"+g+_)):h===_&&(m.browserCss.lte&&n("lte-"+g+_),m.browserCss.eq&&n("eq-"+g+_),m.browserCss.gte&&n("gte-"+g+_))}else n("no-"+g);"ie"===s&&9>h&&o("abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".split(" "),function(e){l.createElement(e)}),o(u.pathname.split("/"),function(e,r){if(this.length>2&&this[r+1]!==t)r&&n(this.slice(1,r+1).join("-").toLowerCase()+m.section);else{var o=e||"index",i=o.indexOf(".");i>0&&(o=o.substring(0,i)),c.id=o.toLowerCase()+m.page,r||n("root"+m.section)}}),p.screen={height:e.screen.height,width:e.screen.width},i();var y=0;e.addEventListener?e.addEventListener("resize",a,!1):e.attachEvent("onresize",a)}(window),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=this.length;if("function"!=typeof e)throw new TypeError;for(var n=arguments[1],r=0;t>r;r++)r in this&&e.call(n,this[r],r,this)});var is=function(){var e=Object,t=e.prototype,n=window.navigator&&navigator.userAgent||"",r=window.navigator&&navigator.appVersion||"",o=Date.prototype,i=function(e,n){return t.toString.call(e)==="[object "+n+"]"},a=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){for(key in t)e[key]=t[key]}),e},l=function(e,t){var n,r;if("array"==typeof e){for(n=0;e.length>n;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},s={};return l(["Object","Array","Boolean","Date","Function","Number","String","RegExp"],function(e,t){s["is"+t]=function(){return i(this,t)}}),a(s,{isInteger:function(){return 0===this%1},isFloat:function(){return!this.isInteger()},isOdd:function(){return!this.isMultipleOf(2)},isEven:function(){return this.isMultipleOf(2)},isMultipleOf:function(e){return 0===this%e},isNaN:function(){return!this.isNumber()},isEmpty:function(){return null==this||"object"!=typeof this?!(this&&this.length>0):0==e.keys(this).length},isSameType:function(e){return t.toString.call(this)===t.toString.call(e)},isOwnProperty:function(e){return t.hasOwnProperty.call(this,e)},isType:function(e){return i(this,e)},isBlank:function(){return 0===this.trim().length}}),a(o,{isPast:function(){return this.getTime()<(new date).getTime()},isFuture:function(){return this.getTime()>(new date).getTime()},isWeekday:function(){return this.getUTCDay()>0&&6>this.getUTCDay()},isWeekend:function(){return 0===this.getUTCDay()||6===this.getUTCDay()},isBefore:function(e){return this.getTime()<e.getTime()},isAfter:function(e){return this.getTime()>e.getTime()},isLeapYear:function(){var e=this.getFullYear();return 0===e%4&&0!==e%100||0===e%400},isValid:function(){return!this.getTime().isNaN()}}),a(t,s),{ie:function(){return/msie/i.test(n)},ie6:function(){return/msie 6/i.test(n)},ie7:function(){return/msie 7/i.test(n)},ie8:function(){return/msie 8/i.test(n)},ie9:function(){return/msie 9/i.test(n)},firefox:function(){return/firefox/i.test(n)},gecko:function(){return/gecko/i.test(n)},opera:function(){return/opera/i.test(n)},safari:function(){return/webkit\W(?!.*chrome).*safari\W/i.test(n)},chrome:function(){return/webkit\W.*(chrome|chromium)\W/i.test(n)},webkit:function(){return/webkit\W/i.test(n)},mobile:function(){return/iphone|ipod|(android.*?mobile)|blackberry|nokia/i.test(n)},tablet:function(){return/ipad|android(?!.*mobile)/i.test(n)},desktop:function(){return!this.mobile()&&!this.tablet()},kindle:function(){return/kindle|silk/i.test(n)},tv:function(){return/googletv|sonydtv/i.test(n)},online:function(){return navigator.onLine},offline:function(){return!this.online()},windows:function(){return/win/i.test(r)},mac:function(){return/mac/i.test(r)},unix:function(){return/x11/i.test(r)},linux:function(){return/linux/i.test(r)}}}();this.createjs=this.createjs||{},function(){var e=function(){this.initialize()},t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.removeEventListener=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent},t._listeners=null,t.initialize=function(){},t.addEventListener=function(e,t){var n=this._listeners;n?this.removeEventListener(e,t):n=this._listeners={};var r=n[e];return r||(r=n[e]=[]),r.push(t),t},t.removeEventListener=function(e,t){var n=this._listeners;if(n){var r=n[e];if(r)for(var o=0,i=r.length;i>o;o++)if(r[o]==t){1==i?delete n[e]:r.splice(o,1);break}}},t.removeAllEventListeners=function(e){e?this._listeners&&delete this._listeners[e]:this._listeners=null},t.dispatchEvent=function(e,t){var n=!1,r=this._listeners;if(e&&r){if("string"==typeof e&&(e={type:e}),e.target=t||this,r=r[e.type],!r)return n;for(var r=r.slice(),o=0,i=r.length;i>o;o++){var a=r[o];a instanceof Function?n=n||a.apply(null,[e]):a.handleEvent&&(n=n||a.handleEvent(e))}}return!!n},t.hasEventListener=function(e){var t=this._listeners;return!(!t||!t[e])},t.toString=function(){return"[EventDispatcher]"},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}function n(){}e.DELIMITER="|",e.AUDIO_TIMEOUT=8e3,e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" "),e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/(\w+:\/{2})?((?:\w+\.){2}\w+)?(\/?[\S]+\/|\/)?([\w\-%\.]+)(?:\.)(\w+)?(\?\S+)?/i,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.lastId=0,e.activePlugin=null,e.pluginsRegistered=!1,e.masterVolume=1,e.masterMute=!1,e.instances=[],e.idHash={},e.preloadHash={},e.defaultSoundInstance=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e.onLoadComplete=null,e.sendLoadComplete=function(t){if(e.preloadHash[t])for(var n=0,r=e.preloadHash[t].length;r>n;n++){var o=e.preloadHash[t][n],o={target:this,type:"loadComplete",src:o.src,id:o.id,data:o.data};e.preloadHash[t][n]=!0,e.onLoadComplete&&e.onLoadComplete(o),e.dispatchEvent(o)}},e.getPreloadHandlers=function(){return{callback:createjs.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e.registerPlugin=function(t){return e.pluginsRegistered=!0,null==t?!1:t.isSupported()?(e.activePlugin=new t,!0):!1},e.registerPlugins=function(t){for(var n=0,r=t.length;r>n;n++)if(e.registerPlugin(t[n]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin?!0:e.pluginsRegistered?!1:e.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},e.isReady=function(){return null!=e.activePlugin},e.getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin.capabilities},e.getCapability=function(t){return null==e.activePlugin?null:e.activePlugin.capabilities[t]},e.initLoad=function(t,n,r,o){return t=e.registerSound(t,r,o,!1),null==t?!1:t},e.registerSound=function(n,r,o,i){if(!e.initializeDefaultPlugins())return!1;n instanceof Object&&(n=n.src,r=n.id,o=n.data);var a=e.parsePath(n,"sound",r,o);if(null==a)return!1;null!=r&&(e.idHash[r]=a.src);var l=null;null!=o&&(isNaN(o.channels)?isNaN(o)||(l=parseInt(o)):l=parseInt(o.channels));var s=e.activePlugin.register(a.src,l);return null!=s&&(null!=s.numChannels&&(l=s.numChannels),t.create(a.src,l),null!=o&&isNaN(o)?o.channels=a.data.channels=l||t.maxPerChannel():o=a.data=l||t.maxPerChannel(),null!=s.tag?a.tag=s.tag:s.src&&(a.src=s.src),null!=s.completeHandler&&(a.completeHandler=s.completeHandler),a.type=s.type),!1!=i&&(e.preloadHash[a.src]||(e.preloadHash[a.src]=[]),e.preloadHash[a.src].push({src:n,id:r,data:o}),1==e.preloadHash[a.src].length&&e.activePlugin.preload(a.src,s)),a},e.registerManifest=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t[n]=createjs.Sound.registerSound(e[n].src,e[n].id,e[n].data,e[n].preload);return t},e.loadComplete=function(t){var n=e.parsePath(t,"sound");return t=n?e.getSrcById(n.src):e.getSrcById(t),!0==e.preloadHash[t][0]},e.parsePath=function(t,n,r,o){"string"!=typeof t&&(t=""+t),t=t.split(e.DELIMITER),n={type:n||"sound",id:r,data:o},r=e.getCapabilities(),o=0;for(var i=t.length;i>o;o++){var a=t[o],l=a.match(e.FILE_PATTERN);if(null==l)return!1;var s=l[4],l=l[5];if(r[l]&&e.SUPPORTED_EXTENSIONS.indexOf(l)>-1)return n.name=s,n.src=a,n.extension=l,n}return null},e.play=function(t,n,r,o,i,a,l){return t=e.createInstance(t),e.playInstance(t,n,r,o,i,a,l)||t.playFailed(),t},e.createInstance=function(n){if(!e.initializeDefaultPlugins())return e.defaultSoundInstance;var r=e.parsePath(n,"sound");n=r?e.getSrcById(r.src):e.getSrcById(n);var r=n.lastIndexOf("."),o=n.slice(r+1);return-1!=r&&e.SUPPORTED_EXTENSIONS.indexOf(o)>-1?(t.create(n),n=e.activePlugin.create(n)):n=e.defaultSoundInstance,n.uniqueId=e.lastId++,n},e.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),e.masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var n=this.instances,r=0,o=n.length;o>r;r++)n[r].setMasterVolume(t)},e.getVolume=function(){return e.masterVolume},e.mute=function(e){if(this.masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,r=t.length;r>n;n++)t[n].setMasterMute(e)},e.setMute=function(e){if(null==e||void 0==e)return!1;if(this.masterMute=e,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,r=t.length;r>n;n++)t[n].setMasterMute(e);return!0},e.getMute=function(){return this.masterMute},e.stop=function(){for(var e=this.instances,t=e.length;t>0;t--)e[t-1].stop()},e.playInstance=function(t,n,r,o,i,a,l){if(n=n||e.defaultInterruptBehavior,null==r&&(r=0),null==o&&(o=t.getPosition()),null==i&&(i=0),null==a&&(a=t.getVolume()),null==l&&(l=t.getPan()),0==r){if(!e.beginPlaying(t,n,o,i,a,l))return!1}else r=setTimeout(function(){e.beginPlaying(t,n,o,i,a,l)},r),t.delayTimeoutId=r;return this.instances.push(t),!0},e.beginPlaying=function(e,n,r,o,i,a){return t.add(e,n)?e.beginPlaying(r,o,i,a)?!0:(e=this.instances.indexOf(e),e>-1&&this.instances.splice(e,1),!1):!1},e.getSrcById=function(t){return null==e.idHash||null==e.idHash[t]?t:e.idHash[t]},e.playFinished=function(e){t.remove(e),e=this.instances.indexOf(e),e>-1&&this.instances.splice(e,1)},e.proxy=function(e,t){return function(){return e.apply(t,arguments)}},createjs.Sound=e,createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}},t.channels={},t.create=function(e,n){return null==t.get(e)?(t.channels[e]=new t(e,n),!0):!1},t.add=function(e,n){var r=t.get(e.src);return null==r?!1:r.add(e,n)},t.remove=function(e){var n=t.get(e.src);return null==n?!1:(n.remove(e),!0)},t.maxPerChannel=function(){return r.maxDefault},t.get=function(e){return t.channels[e]};var r=t.prototype={src:null,max:null,maxDefault:100,length:0,init:function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&this.max==this.maxDefault,this.instances=[]},get:function(e){return this.instances[e]},add:function(e,t){return this.getSlot(t,e)?(this.instances.push(e),this.length++,!0):!1},remove:function(e){return e=this.instances.indexOf(e),-1==e?!1:(this.instances.splice(e,1),this.length--,!0)},getSlot:function(t){for(var n,r,o=0,i=this.max;i>o;o++){if(n=this.get(o),null==n)return!0;(t!=e.INTERRUPT_NONE||n.playState==e.PLAY_FINISHED)&&(0==o?r=n:n.playState==e.PLAY_FINISHED||n==e.PLAY_INTERRUPTED||n==e.PLAY_FAILED?r=n:(t==e.INTERRUPT_EARLY&&n.getPosition()<r.getPosition()||t==e.INTERRUPT_LATE&&n.getPosition()>r.getPosition())&&(r=n))}return null!=r?(r.interrupt(),this.remove(r),!0):!1},toString:function(){return"[Sound SoundChannel]"}};e.defaultSoundInstance=new function(){this.isDefault=!0,this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=this.hasEventListener=this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1},this.getVolume=this.getPan=this.getDuration=function(){return 0},this.playState=e.PLAY_FAILED,this.toString=function(){return"[Sound Default Sound Instance]"}},n.init=function(){var e=navigator.userAgent;n.isFirefox=e.indexOf("Firefox")>-1,n.isOpera=null!=window.opera,n.isChrome=e.indexOf("Chrome")>-1,n.isIOS=e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1,n.isAndroid=e.indexOf("Android")>-1,n.isBlackberry=e.indexOf("Blackberry")>-1},n.init(),createjs.Sound.BrowserDetect=n}(),this.createjs=this.createjs||{},function(){function e(){this.init()}function t(e,t){this.init(e,t)}function n(e,t){this.init(e,t)}e.capabilities=null,e.isSupported=function(){return"file:"==location.protocol?!1:(e.generateCapabilities(),null==e.context?!1:!0)},e.generateCapabilities=function(){if(null==e.capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(window.webkitAudioContext)e.context=new webkitAudioContext;else{if(!window.AudioContext)return null;e.context=new AudioContext}e.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,o=0,i=n.length;i>o;o++){var a=n[o],l=r[a]||a;e.capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+l)&&""!=t.canPlayType("audio/"+l)}2>e.context.destination.numberOfChannels&&(e.capabilities.panning=!1),e.dynamicsCompressorNode=e.context.createDynamicsCompressor(),e.dynamicsCompressorNode.connect(e.context.destination),e.gainNode=e.context.createGainNode(),e.gainNode.connect(e.dynamicsCompressorNode)}},e.prototype={capabilities:null,volume:1,context:null,dynamicsCompressorNode:null,gainNode:null,arrayBuffers:null,init:function(){this.capabilities=e.capabilities,this.arrayBuffers={},this.context=e.context,this.gainNode=e.gainNode,this.dynamicsCompressorNode=e.dynamicsCompressorNode},register:function(e){return this.arrayBuffers[e]=!0,{tag:new n(e,this)}},isPreloadStarted:function(e){return null!=this.arrayBuffers[e]},isPreloadComplete:function(e){return!(null==this.arrayBuffers[e]||!0==this.arrayBuffers[e])},removeFromPreload:function(e){delete this.arrayBuffers[e]},addPreloadResults:function(e,t){this.arrayBuffers[e]=t},handlePreloadComplete:function(){createjs.Sound.sendLoadComplete(this.src)},preload:function(e){this.arrayBuffers[e]=!0,e=new n(e,this),e.onload=this.handlePreloadComplete,e.load()},create:function(e){return this.isPreloadStarted(e)||this.preload(e),new t(e,this)},setVolume:function(e){return this.volume=e,this.updateVolume(),!0},updateVolume:function(){var e=createjs.Sound.masterMute?0:this.volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},getVolume:function(){return this.volume},setMute:function(){return this.updateVolume(),!0},toString:function(){return"[WebAudioPlugin]"}},createjs.WebAudioPlugin=e,t.prototype={src:null,uniqueId:-1,playState:null,owner:null,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,soundCompleteTimeout:null,panNode:null,gainNode:null,sourceNode:null,muted:!1,paused:!1,startTime:0,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,endedHandler:null,readyHandler:null,stalledHandler:null,onReady:null,onPlaySucceeded:null,onPlayInterrupted:null,onPlayFailed:null,onComplete:null,onLoop:null,sendEvent:function(e){this.dispatchEvent({target:this,type:e})},init:function(e,t){this.owner=t,this.src=e,this.panNode=this.owner.context.createPanner(),this.gainNode=this.owner.context.createGainNode(),this.gainNode.connect(this.panNode),this.owner.isPreloadComplete(this.src)&&(this.duration=1e3*this.owner.arrayBuffers[this.src].duration),this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},cleanUp:function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode.noteOff(0),this.sourceNode=null),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),null!=window.createjs&&createjs.Sound.playFinished(this)},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED,this.onPlayInterrupted&&this.onPlayInterrupted(this),this.sendEvent("interrupted"),this.cleanUp(),this.paused=!1},handleSoundStalled:function(){null!=this.onPlayFailed&&this.onPlayFailed(this),this.sendEvent("failed")},handleSoundReady:function(){null!=window.createjs&&(this.offset>this.getDuration()?this.playFailed():(0>this.offset&&(this.offset=0),this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.panNode.connect(this.owner.gainNode),this.sourceNode=this.owner.context.createBufferSource(),this.sourceNode.buffer=this.owner.arrayBuffers[this.src],this.duration=1e3*this.owner.arrayBuffers[this.src].duration,this.sourceNode.connect(this.gainNode),this.soundCompleteTimeout=setTimeout(this.endedHandler,1e3*(this.sourceNode.buffer.duration-this.offset)),this.startTime=this.owner.context.currentTime-this.offset,this.sourceNode.noteGrainOn(0,this.offset,this.sourceNode.buffer.duration-this.offset)))},play:function(e,t,n,r,o,i){this.cleanUp(),createjs.Sound.playInstance(this,e,t,n,r,o,i)},beginPlaying:function(e,t,n,r){if(null!=window.createjs&&this.src){if(this.offset=e/1e3,this.remainingLoops=t,this.setVolume(n),this.setPan(r),this.owner.isPreloadComplete(this.src))return this.handleSoundReady(null),this.onPlaySucceeded&&this.onPlaySucceeded(this),this.sendEvent("succeeded"),1;
this.playFailed()}},pause:function(){return this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.sourceNode.noteOff(0),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0)},resume:function(){return this.paused?(this.handleSoundReady(null),!0):!1},stop:function(){return this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.offset=0,!0},setVolume:function(e){return null==Number(e)?!1:(this.volume=e=Math.max(0,Math.min(1,e)),this.updateVolume(),!0)},updateVolume:function(){var e=this.muted?0:this.volume;return e!=this.gainNode.gain.value?(this.gainNode.gain.value=e,!0):!1},getVolume:function(){return this.volume},mute:function(e){return this.muted=e,this.updateVolume(),!0},setMute:function(e){return null==e||void 0==e?!1:(this.muted=e,this.updateVolume(),!0)},getMute:function(){return this.muted},setPan:function(e){return this.owner.capabilities.panning?(this.panNode.setPosition(e,0,-.5),this.pan=e,void 0):!1},getPan:function(){return this.pan},getPosition:function(){return 1e3*(this.paused||null==this.sourceNode?this.offset:this.owner.context.currentTime-this.startTime)},setPosition:function(e){return this.offset=e/1e3,this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode.noteOff(0),clearTimeout(this.soundCompleteTimeout)),!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&this.handleSoundReady(null),!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0,0!=this.remainingLoops?(this.remainingLoops--,this.handleSoundReady(null),null!=this.onLoop&&this.onLoop(this),this.sendEvent("loop")):null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,null!=this.onComplete&&this.onComplete(this),this.sendEvent("complete"),this.cleanUp())},playFailed:function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,null!=this.onPlayFailed&&this.onPlayFailed(this),this.sendEvent("failed"),this.cleanUp())},toString:function(){return"[WebAudioPlugin SoundInstance]"}},createjs.EventDispatcher.initialize(t.prototype),n.prototype={request:null,owner:null,progress:-1,src:null,result:null,onload:null,onprogress:null,onError:null,init:function(e,t){this.src=e,this.owner=t},load:function(e){null!=e&&(this.src=e),this.request=new XMLHttpRequest,this.request.open("GET",this.src,!0),this.request.responseType="arraybuffer",this.request.onload=createjs.proxy(this.handleLoad,this),this.request.onError=createjs.proxy(this.handleError,this),this.request.onprogress=createjs.proxy(this.handleProgress,this),this.request.send()},handleProgress:function(e,t){this.progress=e/t,null!=this.onprogress&&this.onprogress({loaded:e,total:t,progress:this.progress})},handleLoad:function(){e.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},handleAudioDecoded:function(e){this.progress=1,this.result=e,this.owner.addPreloadResults(this.src,this.result),this.onload&&this.onload()},handleError:function(e){this.owner.removeFromPreload(this.src),this.onerror&&this.onerror(e)},toString:function(){return"[WebAudioPlugin WebAudioLoader]"}}}(),this.createjs=this.createjs||{},function(){function e(){this.init()}function t(e,t){this.init(e,t)}function n(e,t){this.init(e,t)}function r(e){this.init(e)}e.MAX_INSTANCES=30,e.capabilities=null,e.AUDIO_READY="canplaythrough",e.AUDIO_ENDED="ended",e.AUDIO_ERROR="error",e.AUDIO_STALLED="stalled",e.isSupported=function(){return createjs.Sound.BrowserDetect.isIOS?!1:(e.generateCapabilities(),null==e.tag||null==e.capabilities?!1:!0)},e.generateCapabilities=function(){if(null==e.capabilities){var t=e.tag=document.createElement("audio");if(null==t.canPlayType)return null;e.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,o=0,i=n.length;i>o;o++){var a=n[o],l=r[a]||a;e.capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+l)&&""!=t.canPlayType("audio/"+l)}}},e.prototype={capabilities:null,audioSources:null,defaultNumChannels:2,init:function(){this.capabilities=e.capabilities,this.audioSources={}},register:function(e,t){this.audioSources[e]=!0;for(var n=r.get(e),o=null,i=t||this.defaultNumChannels,a=0;i>a;a++)o=this.createTag(e),n.add(o);return{tag:o,numChannels:i}},createTag:function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},create:function(e){if(!this.isPreloadStarted(e)){var n=r.get(e),o=this.createTag(e);n.add(o),this.preload(e,{tag:o})}return new t(e,this)},isPreloadStarted:function(e){return null!=this.audioSources[e]},preload:function(e,t){this.audioSources[e]=!0,new n(e,t.tag)},toString:function(){return"[HTMLAudioPlugin]"}},createjs.HTMLAudioPlugin=e,t.prototype={src:null,uniqueId:-1,playState:null,owner:null,loaded:!1,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,tag:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,endedHandler:null,readyHandler:null,stalledHandler:null,init:function(e,t){this.src=e,this.owner=t,this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},sendEvent:function(e){this.dispatchEvent({target:this,type:e})},cleanUp:function(){var e=this.tag;if(null!=e){e.pause();try{e.currentTime=0}catch(t){}e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),r.setInstance(this.src,e),this.tag=null}clearTimeout(this.delayTimeoutId),null!=window.createjs&&createjs.Sound.playFinished(this)},interrupt:function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this.onPlayInterrupted&&this.onPlayInterrupted(this),this.sendEvent("interrupted"),this.cleanUp(),this.paused=!1)},play:function(e,t,n,r,o,i){this.cleanUp(),createjs.Sound.playInstance(this,e,t,n,r,o,i)},beginPlaying:function(e,t,n){if(null==window.createjs)return-1;var o=this.tag=r.getInstance(this.src);return null==o?(this.playFailed(),-1):(this.duration=1e3*this.tag.duration,o.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),this.offset=e,this.volume=n,this.updateVolume(),this.remainingLoops=t,4!==o.readyState?(o.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),o.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),o.load()):this.handleSoundReady(null),this.onPlaySucceeded&&this.onPlaySucceeded(this),this.sendEvent("succeeded"),1)},handleSoundStalled:function(){null!=this.onPlayFailed&&this.onPlayFailed(this),this.sendEvent("failed"),this.cleanUp()},handleSoundReady:function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration()?this.playFailed():(this.offset>0&&(this.tag.currentTime=.001*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),this.tag.play()))},pause:function(){return this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0)},resume:function(){return this.paused&&null!=this.tag?(this.paused=!1,this.tag.play(),!0):!1},stop:function(){return this.offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),!0},setMasterVolume:function(){return this.updateVolume(),!0},setVolume:function(e){return null==Number(e)?!1:(this.volume=e=Math.max(0,Math.min(1,e)),this.updateVolume(),!0)},updateVolume:function(){if(null!=this.tag){var e=this.muted||createjs.Sound.masterMute?0:this.volume*createjs.Sound.masterVolume;return e!=this.tag.volume&&(this.tag.volume=e),!0}return!1},getVolume:function(){return this.volume},mute:function(e){return this.muted=e,this.updateVolume(),!0},setMasterMute:function(){return this.updateVolume(),!0},setMute:function(e){return null==e||void 0==e?!1:(this.muted=e,this.updateVolume(),!0)},getMute:function(){return this.muted},setPan:function(){return!1},getPan:function(){return 0},getPosition:function(){return null==this.tag?this.offset:1e3*this.tag.currentTime},setPosition:function(e){if(null==this.tag)this.offset=e;else try{this.tag.currentTime=.001*e}catch(t){return!1}return!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0,0!=this.remainingLoops?(this.remainingLoops--,this.tag.play(),null!=this.onLoop&&this.onLoop(this),this.sendEvent("loop")):null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,null!=this.onComplete&&this.onComplete(this),this.sendEvent("complete"),this.cleanUp())},playFailed:function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,null!=this.onPlayFailed&&this.onPlayFailed(this),this.sendEvent("failed"),this.cleanUp())},toString:function(){return"[HTMLAudioPlugin SoundInstance]"}},createjs.EventDispatcher.initialize(t.prototype),n.prototype={src:null,tag:null,preloadTimer:null,loadedHandler:null,init:function(e,t){this.src=e,this.tag=t,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this),this.tag.preload="auto",this.tag.src=e,this.tag.load()},preloadTick:function(){var e=this.tag.buffered,t=this.tag.duration;e.length>0&&e.end(0)>=t-1&&this.handleTagLoaded()},handleTagLoaded:function(){clearInterval(this.preloadTimer)},sendLoadedEvent:function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=null,createjs.Sound.sendLoadComplete(this.src)},toString:function(){return"[HTMLAudioPlugin HTMLAudioLoader]"}},r.tags={},r.get=function(e){var t=r.tags[e];return null==t&&(t=r.tags[e]=new r(e)),t},r.getInstance=function(e){return e=r.tags[e],null==e?null:e.get()},r.setInstance=function(e,t){var n=r.tags[e];return null==n?null:n.set(t)},r.prototype={src:null,length:0,available:0,tags:null,init:function(e){this.src=e,this.tags=[]},add:function(e){this.tags.push(e),this.length++,this.available++},get:function(){if(0==this.tags.length)return null;this.available=this.tags.length;var e=this.tags.pop();return null==e.parentNode&&document.body.appendChild(e),e},set:function(e){-1==this.tags.indexOf(e)&&this.tags.push(e),this.available=this.tags.length},toString:function(){return"[HTMLAudioPlugin TagPool]"}}}(),function(){var e=this.createjs=this.createjs||{},e=e.SoundJS=e.SoundJS||{};e.version="0.4.0",e.buildDate="Tue, 12 Feb 2013 21:11:51 GMT"}();