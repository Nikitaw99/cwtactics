<!DOCTYPE html>

<html>
<head>
  <title>test.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="doc.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="ai.html">
                  ai.js
                </a>
              
                
                <a class="source" href="base.html">
                  base.js
                </a>
              
                
                <a class="source" href="commands.html">
                  commands.js
                </a>
              
                
                <a class="source" href="controller.html">
                  controller.js
                </a>
              
                
                <a class="source" href="datatypes.html">
                  datatypes.js
                </a>
              
                
                <a class="source" href="dependencies.html">
                  dependencies.js
                </a>
              
                
                <a class="source" href="flow.html">
                  flow.js
                </a>
              
                
                <a class="source" href="input.html">
                  input.js
                </a>
              
                
                <a class="source" href="loading.html">
                  loading.js
                </a>
              
                
                <a class="source" href="logic.html">
                  logic.js
                </a>
              
                
                <a class="source" href="model.html">
                  model.js
                </a>
              
                
                <a class="source" href="modification.html">
                  modification.js
                </a>
              
                
                <a class="source" href="renderer.html">
                  renderer.js
                </a>
              
                
                <a class="source" href="test.html">
                  test.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>test.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-pi">"use strict"</span>;

<span class="hljs-comment">/**
rain.js

A simple class that does the rain demo in JS
 First attempt at creating the rain weather for JavaScript

@author = Carr, Crecen
@version = 04.30.14
*/</span>
cwt.Gameflow.addState({
  id: <span class="hljs-string">"RAIN"</span>,
  last: <span class="hljs-string">"MAIN_MENU"</span>,

  init: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Since the time is so low I probably donâ€™t need to track it.
But it seems memory intensive to pull off, there has to be
a less expensive way</p>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Keeps track of the time</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.time = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Keeps track of delta time</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.store = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Maximum frame wait per particle</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.MAX = <span class="hljs-number">8</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Keeps track of the cap</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.cap = <span class="hljs-number">50</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Keeps track of the frequency of a raindrop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.FREQUENCY = <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>The type of raindrop to draw</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.type = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>The x-axis position of the raindrop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.posx = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>The y-axis position of the raindrop</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.posy = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Holds the graphics for a simple raindrop (cache)
Totally hard coded all the values here</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.ball = document.createElement(<span class="hljs-string">'canvas'</span>);
	<span class="hljs-keyword">this</span>.ball.width = <span class="hljs-number">10</span>;
	<span class="hljs-keyword">this</span>.ball.height = <span class="hljs-number">10</span>;

	<span class="hljs-keyword">var</span> ctx = <span class="hljs-keyword">this</span>.ball.getContext(<span class="hljs-string">'2d'</span>);
	ctx.strokeStyle = <span class="hljs-string">"rgba(255,255,255,0.3)"</span>;
	ctx.lineWidth = <span class="hljs-number">1</span>;
	ctx.beginPath();
	ctx.moveTo(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);
	ctx.lineTo(<span class="hljs-number">4</span>,<span class="hljs-number">10</span>);
	ctx.stroke();
  },

  enter: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Clears the UI layer for demo</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    cwt.Screen.layerUI.clear();
  },

  update: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(delta, lastInput)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>action leads into main menu (Thanks BlackCat</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (lastInput &amp;&amp; lastInput.key === cwt.Input.TYPE_ACTION)
      cwt.Gameflow.changeState(<span class="hljs-string">"MAIN_MENU"</span>);

	<span class="hljs-keyword">this</span>.store += delta;
	<span class="hljs-keyword">while</span>(<span class="hljs-keyword">this</span>.store &gt; <span class="hljs-keyword">this</span>.MAX){</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Particle creation (totally fixed up to take as little memory as possible)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.type.length+<span class="hljs-number">1</span>; i++){</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>This one liner prevents massive amount of particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span>(i == <span class="hljs-keyword">this</span>.cap)
				<span class="hljs-keyword">break</span>;
			<span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-keyword">this</span>.FREQUENCY) == <span class="hljs-number">0</span>){
				<span class="hljs-keyword">if</span>(i == <span class="hljs-keyword">this</span>.type.length){
					<span class="hljs-keyword">this</span>.type.push(<span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">2</span>));
					<span class="hljs-keyword">this</span>.posx.push(((<span class="hljs-built_in">Math</span>.random()*cwt.Screen.width+<span class="hljs-number">100</span>/<span class="hljs-number">10</span>)*<span class="hljs-number">10</span>)-<span class="hljs-number">200</span>);
					<span class="hljs-keyword">this</span>.posy.push(-<span class="hljs-number">10</span>);
					<span class="hljs-keyword">break</span>;
				}
				<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == -<span class="hljs-number">1</span>){
					<span class="hljs-keyword">this</span>.type[i] = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">2</span>);
					<span class="hljs-keyword">this</span>.posx[i] = ((<span class="hljs-built_in">Math</span>.random()*cwt.Screen.width+<span class="hljs-number">100</span>/<span class="hljs-number">10</span>)*<span class="hljs-number">10</span>)-<span class="hljs-number">200</span>;
					<span class="hljs-keyword">this</span>.posy[i] = -<span class="hljs-number">10</span>;
					<span class="hljs-keyword">break</span>;
				}

			}
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Rain particle updates</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.type.length; i++){
			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == -<span class="hljs-number">1</span>)
				<span class="hljs-keyword">continue</span>;

			<span class="hljs-keyword">this</span>.posx[i] += <span class="hljs-number">1</span>;
			<span class="hljs-keyword">this</span>.posy[i] += <span class="hljs-number">4</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Destroy particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.posy[i] &gt; cwt.Screen.height+<span class="hljs-number">10</span>)
				<span class="hljs-keyword">this</span>.type[i] = -<span class="hljs-number">1</span>;
		}
		<span class="hljs-keyword">this</span>.store -= <span class="hljs-keyword">this</span>.MAX;
	}
  },

  render: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">var</span> ctx = cwt.Screen.layerUI.getContext();</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Tests the speed of each particle for debug mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (cwt.DEBUG) {
      <span class="hljs-keyword">this</span>.time = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getTime();
    }

	ctx.fillStyle = <span class="hljs-string">"black"</span>;
    ctx.fillRect( <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, cwt.Screen.width, cwt.Screen.height );</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Render particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.type.length; i++){
		<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == -<span class="hljs-number">1</span>)
			<span class="hljs-keyword">continue</span>;

		ctx.drawImage(<span class="hljs-keyword">this</span>.ball, <span class="hljs-keyword">this</span>.posx[i], <span class="hljs-keyword">this</span>.posy[i], <span class="hljs-number">10</span>+<span class="hljs-number">5</span>*<span class="hljs-keyword">this</span>.type[i], <span class="hljs-number">10</span>+<span class="hljs-number">5</span>*<span class="hljs-keyword">this</span>.type[i]);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Finishes the testing of speed for snow particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (cwt.DEBUG) {
      console.log(<span class="hljs-string">"Quick render of rain... needed "</span>+((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getTime()-<span class="hljs-keyword">this</span>.time)+<span class="hljs-string">"ms"</span>);
    }
  }
});

<span class="hljs-comment">/**
weather.js

A simple class that does the snow particle demo in JS
 First attempt at creating the snow weather for JavaScript
 It turned out to be a chore to draw circles, but I think
 I figured it out...

@author = Carr, Crecen
@version = 04.30.14
*/</span>
cwt.Gameflow.addState({
  id: <span class="hljs-string">"WEATHER"</span>,
  last: <span class="hljs-string">"MAIN_MENU"</span>,

  init: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Since the time is so low I probably donâ€™t need to track it.
But it seems memory intensive to pull off, there has to be
a less expensive way</p>

            </div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Keeps track of the time</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.time = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Keeps track of delta time</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.store = <span class="hljs-number">0</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Maximum frame wait per particle</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.MAX = <span class="hljs-number">32</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Keeps track of the cap</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.cap = <span class="hljs-number">50</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Keeps track of the frequency of a snowball</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.FREQUENCY = <span class="hljs-number">2</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>The type of snowball to draw</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.type = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>The x-axis position of the snowball</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.posx = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>The y-axis position of the snowball</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.posy = [];</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Holds the graphics for a simple snowball (cache)
Totally hard coded all the values here</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">this</span>.ball = document.createElement(<span class="hljs-string">'canvas'</span>);
	<span class="hljs-keyword">this</span>.ball.width = <span class="hljs-number">10</span>;
	<span class="hljs-keyword">this</span>.ball.height = <span class="hljs-number">10</span>;
	
	<span class="hljs-keyword">var</span> ctx = <span class="hljs-keyword">this</span>.ball.getContext(<span class="hljs-string">'2d'</span>);
	ctx.strokeStyle = <span class="hljs-string">"rgba(255,255,255,0.3)"</span>;
	ctx.lineWidth = <span class="hljs-number">4</span>;
	ctx.beginPath();
	ctx.arc(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.PI*<span class="hljs-number">2</span>);
	ctx.stroke();
  },

  enter: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Clears the UI layer for demo</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    cwt.Screen.layerUI.clear();
  },

  update: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(delta, lastInput)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>action leads into main menu (Thanks BlackCat</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">if</span> (lastInput &amp;&amp; lastInput.key === cwt.Input.TYPE_ACTION)
      cwt.Gameflow.changeState(<span class="hljs-string">"MAIN_MENU"</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>Particle creation (totally fixed up to take as little memory as possible)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.type.length+<span class="hljs-number">1</span>; i++){</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>This one liner prevents massive amount of particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">if</span>(i == <span class="hljs-keyword">this</span>.cap)
			<span class="hljs-keyword">break</span>;
		<span class="hljs-keyword">if</span>(<span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-keyword">this</span>.FREQUENCY) == <span class="hljs-number">1</span>){
			<span class="hljs-keyword">if</span>(i == <span class="hljs-keyword">this</span>.type.length){
				<span class="hljs-keyword">this</span>.type.push(<span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">3</span>));
				<span class="hljs-keyword">this</span>.posx.push(((<span class="hljs-built_in">Math</span>.random()*cwt.Screen.width+<span class="hljs-number">100</span>/<span class="hljs-number">10</span>)*<span class="hljs-number">10</span>)-<span class="hljs-number">200</span>);
				<span class="hljs-keyword">this</span>.posy.push(-<span class="hljs-number">10</span>);
				<span class="hljs-keyword">break</span>;
			}
			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == -<span class="hljs-number">1</span>){
				<span class="hljs-keyword">this</span>.type[i] = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">3</span>);
				<span class="hljs-keyword">this</span>.posx[i] = ((<span class="hljs-built_in">Math</span>.random()*cwt.Screen.width+<span class="hljs-number">100</span>/<span class="hljs-number">10</span>)*<span class="hljs-number">10</span>)-<span class="hljs-number">200</span>;
				<span class="hljs-keyword">this</span>.posy[i] = -<span class="hljs-number">10</span>;
				<span class="hljs-keyword">break</span>;
			}
			
		}
	}
	
	<span class="hljs-keyword">if</span> (cwt.DEBUG) {
      console.log(<span class="hljs-string">"Quick render of snow... Delta is "</span>+delta);
    }

    <span class="hljs-keyword">var</span> dis = <span class="hljs-built_in">parseInt</span>((<span class="hljs-number">250</span>/<span class="hljs-number">1000</span>)*delta,<span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> disQuart = <span class="hljs-built_in">parseInt</span>(dis/<span class="hljs-number">4</span>,<span class="hljs-number">10</span>) || <span class="hljs-number">1</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>this.store += delta;
while(this.store &gt; this.MAX){
Snow particle updates</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.type.length; i++){
			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == -<span class="hljs-number">1</span>)
				<span class="hljs-keyword">continue</span>;

			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == <span class="hljs-number">2</span>){
				<span class="hljs-keyword">this</span>.posx[i] += disQuart;
			}
			<span class="hljs-keyword">this</span>.posx[i] += disQuart;
			<span class="hljs-keyword">this</span>.posy[i] += dis;</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Destroy particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.posy[i] &gt; cwt.Screen.height+<span class="hljs-number">10</span>)
				<span class="hljs-keyword">this</span>.type[i] = -<span class="hljs-number">1</span>;
		}</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>this.store -= this.MAX;
}</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  },

  render: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">var</span> ctx = cwt.Screen.layerUI.getContext();</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Tests the speed of each particle for debug mode</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (cwt.DEBUG) {
      <span class="hljs-keyword">this</span>.time = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getTime();
    }
	
	ctx.fillStyle = <span class="hljs-string">"black"</span>;
    ctx.fillRect( <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, cwt.Screen.width, cwt.Screen.height );</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Render particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.type.length; i++){
		<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.type[i] == -<span class="hljs-number">1</span>)
			<span class="hljs-keyword">continue</span>;
				
		ctx.drawImage(<span class="hljs-keyword">this</span>.ball, <span class="hljs-keyword">this</span>.posx[i], <span class="hljs-keyword">this</span>.posy[i], <span class="hljs-number">10</span>+<span class="hljs-number">5</span>*<span class="hljs-keyword">this</span>.type[i], <span class="hljs-number">10</span>+<span class="hljs-number">5</span>*<span class="hljs-keyword">this</span>.type[i]);
	}</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Finishes the testing of speed for snow particles</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	<span class="hljs-keyword">if</span> (cwt.DEBUG) {
      console.log(<span class="hljs-string">"Quick render of snow... needed "</span>+((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getTime()-<span class="hljs-keyword">this</span>.time)+<span class="hljs-string">"ms"</span>);
    }
  }
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>