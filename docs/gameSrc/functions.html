<!DOCTYPE html>

<html>
<head>
  <title>functions.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="actions.html">
                actions.js
              </a>
            
              
              <a class="source" href="ai.html">
                ai.js
              </a>
            
              
              <a class="source" href="async.html">
                async.js
              </a>
            
              
              <a class="source" href="audio.html">
                audio.js
              </a>
            
              
              <a class="source" href="circularBuffer.html">
                circularBuffer.js
              </a>
            
              
              <a class="source" href="config.html">
                config.js
              </a>
            
              
              <a class="source" href="constants.html">
                constants.js
              </a>
            
              
              <a class="source" href="cwScript.html">
                cwScript.js
              </a>
            
              
              <a class="source" href="error.html">
                error.js
              </a>
            
              
              <a class="source" href="events.html">
                events.js
              </a>
            
              
              <a class="source" href="functions.html">
                functions.js
              </a>
            
              
              <a class="source" href="image.html">
                image.js
              </a>
            
              
              <a class="source" href="input.html">
                input.js
              </a>
            
              
              <a class="source" href="loading.html">
                loading.js
              </a>
            
              
              <a class="source" href="localization.html">
                localization.js
              </a>
            
              
              <a class="source" href="main.html">
                main.js
              </a>
            
              
              <a class="source" href="matrix.html">
                matrix.js
              </a>
            
              
              <a class="source" href="model.html">
                model.js
              </a>
            
              
              <a class="source" href="network.html">
                network.js
              </a>
            
              
              <a class="source" href="renderer.html">
                renderer.js
              </a>
            
              
              <a class="source" href="sheets.html">
                sheets.js
              </a>
            
              
              <a class="source" href="statemachine.html">
                statemachine.js
              </a>
            
              
              <a class="source" href="storage.html">
                storage.js
              </a>
            
              
              <a class="source" href="systemFeatures.html">
                systemFeatures.js
              </a>
            
              
              <a class="source" href="tileVariants.html">
                tileVariants.js
              </a>
            
              
              <a class="source" href="uiWidgets.html">
                uiWidgets.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>functions.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-pi">"use strict"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Asserts that <code>expr</code> is true. If <code>expr</code> is false then an Error will be thrown.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">var</span> assert = exports.assert = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(expr, msgA)</span> </span>{
  <span class="hljs-keyword">if</span> (!expr) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> msgA === <span class="hljs-string">"undefined"</span>) {
      msgA = <span class="hljs-string">"FAIL"</span>;
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">console</span>.error) {
      <span class="hljs-built_in">console</span>.error(msgA);
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>raise error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">throw</span> msgA;
  }
};

exports.emptyFunction = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
};

exports.trueReturner = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Calls a function lazy. This means the factory function fn will be called when the curried function (return
value) will be called the first time. The factory function needs to return the value that should be returned
by the curried function in future.</p>
<p>@param {Function} fn factory function
@return {Function} curried function which returns the returned value of the factory function</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.lazy = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(fn)</span> </span>{
  <span class="hljs-keyword">var</span> value = <span class="hljs-literal">undefined</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">undefined</span>) {
      value = fn();
    }

    <span class="hljs-keyword">return</span> value;
  }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Repeats a given function <strong>f</strong> for <strong>n</strong> times.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.repeat = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(n, f)</span> </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
    f.call(<span class="hljs-keyword">this</span>, i);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Selects a <strong>random element</strong> from a given <strong>list</strong> and returns it. It’s possible to give a <strong>forbiddenElement</strong>
that won’t be selected from the list.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.selectRandomListElement = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(list, forbiddenElement)</span> </span>{
  <span class="hljs-keyword">var</span> e = list.length;

  assert(e &gt; <span class="hljs-number">1</span> || (e &gt; <span class="hljs-number">0</span> &amp;&amp; list[<span class="hljs-number">0</span>] !== forbiddenElement));

  <span class="hljs-keyword">var</span> r = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Math</span>.random() * e, <span class="hljs-number">10</span>);
  <span class="hljs-keyword">var</span> selected = list[r];
  <span class="hljs-keyword">if</span> (selected === forbiddenElement) {
    selected = (r &lt; e - <span class="hljs-number">1</span> ? list[r + <span class="hljs-number">1</span>] : list[r - <span class="hljs-number">1</span>]);
  }

  <span class="hljs-keyword">return</span> selected;
};</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>FROM: <a href="http://stackoverflow.com/questions/979975/how-to-get-the-value-from-url-parameter">http://stackoverflow.com/questions/979975/how-to-get-the-value-from-url-parameter</a></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.getQueryParams = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(qs)</span> </span>{
  qs = qs.split(<span class="hljs-string">"+"</span>).join(<span class="hljs-string">" "</span>);

  <span class="hljs-keyword">var</span> params = {}, tokens,
    re = <span class="hljs-regexp">/[?&amp;]?([^=]+)=([^&amp;]*)/g</span>;

  <span class="hljs-keyword">while</span> (tokens = re.exec(qs)) {
    params[<span class="hljs-built_in">decodeURIComponent</span>(tokens[<span class="hljs-number">1</span>])]
      = <span class="hljs-built_in">decodeURIComponent</span>(tokens[<span class="hljs-number">2</span>]);
  }

  <span class="hljs-keyword">return</span> params;
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
