<!DOCTYPE html>
<html>
  
  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Cwtactics : An effort to create an open engine to emulate the gaming experience of the Nintendo Advance Wars series." />
    
    <title>Custom Wars: Tactics</title>
    
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/normalize.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/site_09_2013.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/pure.css">
    
    <!-- DEPENDENCIES -->
    <script src='libs/jquery.js'            type='text/javascript'></script>
    <script src='libs/moment.js'            type='text/javascript'></script>
    <script src='libs/mustache.js'          type='text/javascript'></script>
    
    <!-- STARTER -->
    <script type='text/javascript'>
      var PAGE_DATA = {};
      
      var PAGE_PROG = {
        
        _sections:[],
        
        registerSection: function( obj ){
          this._sections.push( obj );
        },
        
        inject: function( section , data ){        
          var el;
          
          if( section.name ){
            el = document.createElement("h1");
            el.innerHTML = section.name ;
            el.setAttribute("id",section.id);  
            document.getElementById(section.element).appendChild(el);
          }
          
          el = document.createElement("div");
          el.innerHTML = Mustache.render( section.template, data, section.partials );
          document.getElementById(section.element).appendChild(el);
        },
        
        renderSections: function(){
          for( var i=0,e=this._sections.length; i<e; i++ ){
            var section = this._sections[i];    
            
            if( section.dataLoader ){
              section.dataLoader( section, this.inject );
            }
            else this.inject( section, PAGE_DATA );
          }
        }
      };
      
      $(document).ready(function(){
        PAGE_PROG.renderSections();
        PAGE_PROG.updateReleaseBox(0);
        
        // CONVERT RSS DATES TO HUMAN READABLE TIME
        $(".rss-date").each(function(i,element){
          element.innerHTML = moment( element.innerHTML, "YYYY-MM-DD HH:mm:ss.SSS-Z,ZZ").fromNow();;
        });
      });
      
    </script>
    
    <!-- DATA -->
    <script src='content/milestones.js' type='text/javascript'></script>
    <script src='content/navBar.js'     type='text/javascript'></script>
    <script src='content/legals.js'     type='text/javascript'></script>
    
    <!-- PROG AND TEMPLATE DESC -->
    <script src='scripts/newsLoader.js'     type='text/javascript'></script>
    <script src='scripts/issuesLoader.js'   type='text/javascript'></script>
    <script src='scripts/navbarLoader.js'   type='text/javascript'></script>
    <script src='scripts/manualLoader.js'   type='text/javascript'></script>
    <script src='scripts/releasesLoader.js' type='text/javascript'></script>
    <script src='scripts/legalLoader.js'    type='text/javascript'></script>
    
  </head>
  
  <body>
    
    <div class="pure-g-r centerText fullHeight">
      
      <!-- NAVIGATION BAR -->
      <div class="pure-u-1-4 pure-hidden-phone leftPanel fullHeight shadowR">
        
        <div class="headerImgBox" >
          <img class="headerImg" src="images/cwttitle.png">
        </div>
        
        <div id="sectionNavbar" > </div>
        
      </div>
      
      <!-- CONTENT -->
      <div class="pure-u-3-4 rightPanel fullHeight"> 
                
        <div id="sectionNews" class="contentBlock"></div>
        
        <div class="contentBlock" >
          <!--
          <script language="JavaScript" 
                  src="http://feed2js.org//feed2js.php?src=http%3A%2F%2Fcwtactics.blogspot.de%2F%2Ffeeds%2Fposts%2Fdefault&num=5&desc=100&date=y&targ=y&utf=y&css=bloggerPosts"  
                  charset="UTF-8" 
                  type="text/javascript">
          </script>
          -->
        </div>
        
        <div id="sectionManual"   class="contentBlock"> </div>
        <div id="sectionRelease"  class="contentBlock"> </div>
        <div id="sectionRoadmap"  class="contentBlock"> </div>
        <div id="sectionLegal"    class="contentBlock"> </div>
        
      </div>
    </div>
  </body>
  
</html>
