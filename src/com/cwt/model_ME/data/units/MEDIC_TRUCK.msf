/*
 * Medical truck, shows possibility of CWT to add extended
 * units with deeper changements of the game
 */

for UnitType_Init as MEDIC_TRUCK sheet @Data.unitSheets :
    // initialize sheet here
    sheet.maxHP = 99
    sheet.maxAmmo = -1
    sheet.maxFuel = 50
    sheet.weapon1 = null
    sheet.weapon2 = null
        
        
on buildUnitMenu :
    // neightbour is allied and so on...
    if ... : 
        Menu.addEntry("HEAL")
        
        
on menuEntryExecuted :
    if Menu.entry == "HEAL" :
        Menu.clear()
        
        // get possible targets and add to menu
        
        Menu.hint = "MEDIC_TRUCK_ACTION"
        
    else if Menu.hint == "MEDIC_TRUCK_ACTION" :
        Menu.tile.unit.hp += 10
        
        // JSLix , show message and so on