object Fog:

    clientPlayers asArray MAX_PLAYERS @Game.players
    clientPlayer @Game.players
    
    // optimize here
    visible asArray Map.width*Map.height
    
    synced stealths asArray MAX_PLAYERS*MAX_UNITS @UnitFactory.units
    
    synced function processFog :
        FogMap.clearMap()
        //TODO
        
    function updateLocalClient curPlayer @UnitFactory.units :
        if curPlayer in clientPlayers :
            clientPlayer = curPlayer

    function clearMap():
        each visible: 
            it = false